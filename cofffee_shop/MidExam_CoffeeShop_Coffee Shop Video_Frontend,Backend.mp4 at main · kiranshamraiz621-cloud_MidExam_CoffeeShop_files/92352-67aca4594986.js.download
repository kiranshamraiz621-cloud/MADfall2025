"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[46642,92352],{34267:(e,t,r)=>{r.d(t,{D:()=>o,t:()=>i});var l=r(74848),n=r(96540);let a=(0,n.createContext)({updateOpenState:()=>void 0,anyItemPickerOpen:()=>!1});function o({children:e}){let t=(0,n.useRef)({}),r=(0,n.useCallback)((e,r)=>{let l=t.current;return l[e]===r||(t.current={...l,[e]:r}),t.current},[]),o=(0,n.useCallback)(()=>Object.values(t.current).some(e=>e),[t]),i=(0,n.useMemo)(()=>({updateOpenState:r,anyItemPickerOpen:o}),[o,r]);return(0,l.jsx)(a.Provider,{value:i,children:e})}function i(){let e=(0,n.useContext)(a);if(!e)throw Error("useItemPickersContext must be used within a ItemPickersContextProvider.");return e}try{a.displayName||(a.displayName="ItemPickersContext")}catch{}try{o.displayName||(o.displayName="ItemPickersContextProvider")}catch{}},34295:(e,t,r)=>{r.d(t,{l:()=>AgentSessionsTokenProvider});var l=r(65411);let AgentSessionsTokenProvider=class AgentSessionsTokenProvider extends l.JR{constructor(){super([],"/copilot/agent-sessions/token","AGENT_SESSIONS_TOKEN")}}},42455:(e,t,r)=>{r.d(t,{b:()=>d});var l=r(97286),n=r(51120),a=r(97189),o=r(34295),i=r(96540),s=r(65411),c=r(69599);function d(...e){let t=(0,l.I)(...e),{numberOf401s:r,increment401s:u,reset401s:h}=(0,a.eS)(),{isError:m,isLoading:p,error:g}=t;return(0,i.useEffect)(()=>{m&&g instanceof n.Y&&401===g.status?r>=5?(((0,c.G7)("mission_control_use_capi_token_provider")?new s.JR([]):new o.l).removeLocalStorageAuthToken(),h()):u():m||p||!(r>0)||h()},[m,p,g,u,h,r]),t}},46642:(e,t,r)=>{r.d(t,{P:()=>d});var l=r(74848),n=r(96540),a=r(38621),o=r(69497),i=r(21373),s=r(70170),c=r(86391);function d({currentSelection:e,repositoryLoader:t,onSelect:r,selectionVariant:d,selectAllOption:u,additionalButtonProps:h,buttonText:m="",width:p,truncateMaxWidth:g,height:C,fullscreenOnNarrow:y,defaultOwner:f,onLoad:v,loadingElement:x}){let[b,w]=(0,n.useState)(""),[L,_]=(0,n.useState)([]),[j,S]=(0,n.useState)(!0),k=(0,n.useCallback)((0,s.s)(async e=>{try{let r=await t(e,f);_(r),v?.(r)}catch{}S(!1)},200),[t,f]);(0,n.useEffect)(()=>{S(!0),k(b)},[b,k,S]);let N=(0,n.useCallback)(e=>{"single"===d?!e[0]||e[0]._all?r(void 0):r(e[0]):r(e)},[d,r]),I=(0,n.useMemo)(()=>"multiple"===d?e||[]:e?[e]:[],[d,e]),A=(0,n.useCallback)(e=>{let t,r="medium"===p?35:"large"===p?60:24;return(e.name.length>r&&(t=`${e.name.substring(0,r)}...`),e._all)?{id:e.name,text:"All repositories",source:e,groupId:"all"}:{id:e.name,text:t||e.name,source:e,groupId:"select",disabled:!1===e.enabled,leadingVisual:()=>e.private?(0,l.jsx)(a.RepoLockedIcon,{size:16}):(0,l.jsx)(a.RepoIcon,{size:16})}},[p]),M=(0,n.useCallback)(e=>e.name,[]),P=(0,n.useMemo)(()=>{let e=[];return e.push(...L),u&&e.push({name:"$all$",_all:!0}),e},[L,u]),R=m,B=a.RepoIcon;return R||("multiple"===d?R=I.length>0?`${I.length} repositor${I.length>1?"ies":"y"}`:"Select repositories":I.length>0&&I[0]?(R=I[0].name,B=I[0].private?a.RepoLockedIcon:a.RepoIcon):R=u?"All repositories":"Select a repository"),x&&j&&!e?x:(0,l.jsx)(c.O,{renderAnchor:({"aria-labelledby":e,...t})=>(0,l.jsx)(i.Q,{leadingVisual:B,trailingAction:a.TriangleDownIcon,"aria-labelledby":e,...t,...h,children:(0,l.jsx)(o.A,{title:R,maxWidth:g??195,children:R})}),placeholderText:"Search",items:P,loading:j,groups:u?[{groupId:"all"},{groupId:"select"}]:[],selectionVariant:d,initialSelectedItems:I,onSelectionChange:N,filterItems:w,getItemKey:M,convertToItemProps:A,title:"Select a repository",width:p,height:C,responsiveOnNarrow:y})}try{d.displayName||(d.displayName="ReposSelector")}catch{}},49851:(e,t,r)=>{r.d(t,{Dy:()=>s,FD:()=>m,GS:()=>a,KJ:()=>o,LP:()=>c,OZ:()=>y,c9:()=>C,gh:()=>g,hO:()=>u,j6:()=>d,md:()=>h,wB:()=>p});var l=r(74848),n=r(21728);let a=e=>{let t,r,a,o,i,s=(0,n.c)(16);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;if(24===u){let e,t,r,n,a,o;return s[2]===Symbol.for("react.memo_cache_sentinel")?(e={display:"inline-block",verticalAlign:"text-bottom"},s[2]=e):e=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("path",{d:"M11.1997 3.60004H12.4797C13.5401 3.60004 14.3997 4.45965 14.3997 5.52004V10.64C14.3997 11.7005 13.5401 12.56 12.4797 12.56H11.1997",stroke:"currentColor",strokeLinecap:"round"}),r=(0,l.jsx)("path",{d:"M4.79985 12.56H3.51985C2.45947 12.56 1.59985 11.7005 1.59985 10.64V5.52004C1.59985 4.45965 2.45947 3.60004 3.51985 3.60004H4.79985",stroke:"currentColor",strokeLinecap:"round"}),n=(0,l.jsx)("path",{d:"M8.00015 5.2C8.8838 5.2 9.60015 4.48366 9.60015 3.6C9.60015 2.71634 8.8838 2 8.00015 2C7.11649 2 6.40015 2.71634 6.40015 3.6C6.40015 4.48366 7.11649 5.2 8.00015 5.2Z",fill:"currentColor"}),a=(0,l.jsx)("path",{d:"M8.00015 14.16C8.8838 14.16 9.60015 13.4437 9.60015 12.56C9.60015 11.6764 8.8838 10.96 8.00015 10.96C7.11649 10.96 6.40015 11.6764 6.40015 12.56C6.40015 13.4437 7.11649 14.16 8.00015 14.16Z",fill:"currentColor"}),s[3]=t,s[4]=r,s[5]=n,s[6]=a):(t=s[3],r=s[4],n=s[5],a=s[6]),s[7]!==d||s[8]!==u?(o=(0,l.jsxs)("svg",{className:d,width:u,height:u,style:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[t,r,n,a]}),s[7]=d,s[8]=u,s[9]=o):o=s[9],o}return s[10]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},s[10]=r):r=s[10],s[11]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 6V10.5C0.5 11.8807 1.61929 13 3 13H4.64494C4.55064 12.6831 4.5 12.3475 4.5 12C4.5 11.8302 4.51209 11.6633 4.53544 11.5H3C2.44772 11.5 2 11.0523 2 10.5L2 6H0.5ZM14 6L14 10.5C14 11.0523 13.5523 11.5 13 11.5H11.4646C11.4879 11.6633 11.5 11.8302 11.5 12C11.5 12.3475 11.4494 12.6831 11.3551 13H13C14.3807 13 15.5 11.8807 15.5 10.5L15.5 6H14ZM10 12C10 13.1046 9.10457 14 8 14C6.89543 14 6 13.1046 6 12C6 10.8954 6.89543 10 8 10C9.10457 10 10 10.8954 10 12Z",fill:"currentColor"}),o=(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 10L15.5 5.5C15.5 4.11929 14.3807 3 13 3L11.3551 3C11.4494 3.31685 11.5 3.65251 11.5 4C11.5 4.16976 11.4879 4.3367 11.4646 4.5L13 4.5C13.5523 4.5 14 4.94772 14 5.5L14 10L15.5 10ZM2 10L2 5.5C2 4.94771 2.44772 4.5 3 4.5L4.53544 4.5C4.51209 4.3367 4.5 4.16976 4.5 4C4.5 3.65251 4.55064 3.31685 4.64494 3L3 3C1.61929 3 0.500002 4.11929 0.500002 5.5L0.500001 10L2 10ZM6 4C6 2.89543 6.89543 2 8 2C9.10457 2 10 2.89543 10 4C10 5.10457 9.10457 6 8 6C6.89543 6 6 5.10457 6 4Z",fill:"currentColor"}),s[11]=a,s[12]=o):(a=s[11],o=s[12]),s[13]!==d||s[14]!==u?(i=(0,l.jsxs)("svg",{className:d,width:u,height:u,style:r,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[a,o]}),s[13]=d,s[14]=u,s[15]=i):i=s[15],i},o=e=>{let t,r,a,o,i=(0,n.c)(7);i[0]!==e?(t=void 0===e?{}:e,i[0]=e,i[1]=t):t=i[1];let{size:s,className:c}=t,d=void 0===s?16:s;return i[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.515.456a1.555 1.555 0 00-2.2 0L6.58 6.19a1.556 1.556 0 00-.396.673l-.825 2.89a.667.667 0 00.824.824l2.89-.826c.254-.072.485-.209.672-.396l5.735-5.734a1.556 1.556 0 000-2.2l-.965-.965zm-1.257.942a.222.222 0 01.314 0l.965.966a.222.222 0 010 .314L13.415 3.8l-1.28-1.28 1.123-1.122zm-2.065 2.066l1.279 1.279-3.67 3.67a.221.221 0 01-.096.056l-1.736.496.496-1.736c.01-.036.03-.07.057-.096l3.67-3.67zM1.639 4.778a2.25 2.25 0 012.25-2.25h3.154a.75.75 0 000-1.5H3.889a3.75 3.75 0 00-3.75 3.75v7.333a3.75 3.75 0 003.75 3.75h7.333a3.75 3.75 0 003.75-3.75V8.445a.75.75 0 00-1.5 0v3.666a2.25 2.25 0 01-2.25 2.25H3.889a2.25 2.25 0 01-2.25-2.25V4.778z",clipRule:"evenodd"}),i[2]=r,i[3]=a):(r=i[2],a=i[3]),i[4]!==c||i[5]!==d?(o=(0,l.jsx)("svg",{className:c,width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:r,children:a}),i[4]=c,i[5]=d,i[6]=o):o=i[6],o},i=e=>{let t,r,a,o,i=(0,n.c)(7);i[0]!==e?(t=void 0===e?{}:e,i[0]=e,i[1]=t):t=i[1];let{size:s,className:c}=t,d=void 0===s?16:s;return i[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 .5H3A2.5 2.5 0 0 0 .5 3v10A2.5 2.5 0 0 0 3 15.5h10a2.5 2.5 0 0 0 2.5-2.5V3A2.5 2.5 0 0 0 13 .5M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm6 6.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M12.25 5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M5 12.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"}),i[2]=r,i[3]=a):(r=i[2],a=i[3]),i[4]!==c||i[5]!==d?(o=(0,l.jsx)("svg",{className:c,width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:r,children:a}),i[4]=c,i[5]=d,i[6]=o):o=i[6],o},s=e=>{let t,r,a,o,i,s=(0,n.c)(8);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("path",{d:"M7.41299 14.25H1.75C1.19772 14.25 0.75 13.8023 0.75 13.25V2.75C0.75 2.19772 1.19772 1.75 1.75 1.75H5C5.31476 1.75 5.61115 1.89819 5.8 2.15L6.7 3.35C6.88885 3.60181 7.18524 3.75 7.5 3.75H14.25C14.8023 3.75 15.25 4.19772 15.25 4.75V8.48779",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),o=(0,l.jsx)("path",{d:"M12.265 9.15977C12.3446 8.94235 12.6521 8.94235 12.7317 9.15977L12.9693 9.80865C13.3464 10.8387 14.158 11.6503 15.1881 12.0274L15.8369 12.265C16.0544 12.3446 16.0544 12.6521 15.8369 12.7317L15.1881 12.9692C14.158 13.3463 13.3464 14.158 12.9693 15.188L12.7317 15.8369C12.6521 16.0543 12.3446 16.0543 12.265 15.8369L12.0275 15.188C11.6504 14.158 10.8387 13.3463 9.80871 12.9692L9.15983 12.7317C8.94241 12.6521 8.94241 12.3446 9.15983 12.265L9.80871 12.0274C10.8387 11.6503 11.6504 10.8387 12.0275 9.80865L12.265 9.15977Z",fill:"currentColor"}),s[2]=r,s[3]=a,s[4]=o):(r=s[2],a=s[3],o=s[4]),s[5]!==d||s[6]!==u?(i=(0,l.jsxs)("svg",{className:d,width:u,height:u,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:r,children:[a,o]}),s[5]=d,s[6]=u,s[7]=i):i=s[7],i},c=e=>{let t,r,a,o,i,s=(0,n.c)(8);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("path",{d:"M16.0376 9.67565V5.82038C16.0376 5.69043 15.9257 5.58508 15.7876 5.58508H11.6914C11.4687 5.58508 11.3571 5.83853 11.5146 5.98676L15.6108 9.84196C15.7683 9.99019 16.0376 9.88525 16.0376 9.67565Z",fill:"currentColor"}),o=(0,l.jsx)("path",{d:"M1.89601 3.25629C4.26064 1.03075 8.04807 0.960969 10.5015 3.04765L10.7339 3.25629L10.7857 3.3096C11.0259 3.58685 11.0085 3.99602 10.7339 4.25445C10.4593 4.51252 10.0254 4.52825 9.73097 4.30225L9.67336 4.25445L9.4966 4.09544C7.63201 2.50983 4.75358 2.56313 2.95656 4.25445C1.10158 6.00031 1.10158 8.83023 2.95656 10.5761C4.81155 12.322 7.8184 12.3219 9.67336 10.5761L13.563 6.91622C13.8559 6.64063 14.3307 6.64058 14.6236 6.91622C14.9163 7.19186 14.9163 7.63873 14.6236 7.91438L10.7339 11.5752C8.29328 13.8718 4.33667 13.8718 1.89601 11.5752C-0.544758 9.27799 -0.544771 5.55349 1.89601 3.25629Z",fill:"currentColor"}),s[2]=r,s[3]=a,s[4]=o):(r=s[2],a=s[3],o=s[4]),s[5]!==d||s[6]!==u?(i=(0,l.jsxs)("svg",{className:d,width:u,height:u,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:r,children:[a,o]}),s[5]=d,s[6]=u,s[7]=i):i=s[7],i},d=e=>{let t,r,a,o,i,s=(0,n.c)(8);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},s[2]=r):r=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsxs)("g",{clipPath:"url(#boolean-on-a)",children:[(0,l.jsx)("rect",{x:"1.25",y:"1.25",width:"13.5",height:"13.5",rx:"1.75",stroke:"currentColor",strokeWidth:"1.5"}),(0,l.jsx)("rect",{x:"7",y:"5",width:"2",height:"6",rx:"1",fill:"currentColor"})]}),s[3]=a):a=s[3],s[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"boolean-on-a",children:(0,l.jsx)("rect",{width:"16",height:"16",fill:"white"})})}),s[4]=o):o=s[4],s[5]!==d||s[6]!==u?(i=(0,l.jsxs)("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",style:r,children:[a,o]}),s[5]=d,s[6]=u,s[7]=i):i=s[7],i},u=e=>{let t,r,a,o,i,s=(0,n.c)(8);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},s[2]=r):r=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsxs)("g",{clipPath:"url(#boolean-off-a)",children:[(0,l.jsx)("rect",{x:"1.25",y:"1.25",width:"13.5",height:"13.5",rx:"1.75",stroke:"currentColor",strokeWidth:"1.5"}),(0,l.jsx)("circle",{cx:"8",cy:"8",r:"2.25",stroke:"currentColor",strokeWidth:"1.5"})]}),s[3]=a):a=s[3],s[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"boolean-off-a",children:(0,l.jsx)("rect",{width:"16",height:"16",fill:"white"})})}),s[4]=o):o=s[4],s[5]!==d||s[6]!==u?(i=(0,l.jsxs)("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",style:r,children:[a,o]}),s[5]=d,s[6]=u,s[7]=i):i=s[7],i},h=e=>{let t,r,a,o,i,s,c,d=(0,n.c)(10);d[0]!==e?(t=void 0===e?{}:e,d[0]=e,d[1]=t):t=d[1];let{size:u,className:h}=t,m=void 0===u?16:u;return d[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("rect",{x:"1.25",y:"3.25",width:"13.5",height:"9.5",rx:"1.75",stroke:"currentColor",strokeWidth:"1.5"}),o=(0,l.jsx)("path",{d:"M6 6L6 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i=(0,l.jsx)("path",{d:"M4 6H8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),s=(0,l.jsx)("path",{d:"M9 10L12 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),d[2]=r,d[3]=a,d[4]=o,d[5]=i,d[6]=s):(r=d[2],a=d[3],o=d[4],i=d[5],s=d[6]),d[7]!==h||d[8]!==m?(c=(0,l.jsxs)("svg",{className:h,xmlns:"http://www.w3.org/2000/svg",width:m,height:m,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",style:r,children:[a,o,i,s]}),d[7]=h,d[8]=m,d[9]=c):c=d[9],c},m=e=>{let t,r,a,o,i,s,c,d,u,h=(0,n.c)(12);h[0]!==e?(t=void 0===e?{}:e,h[0]=e,h[1]=t):t=h[1];let{size:m,className:p}=t,g=void 0===m?16:m;return h[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("path",{d:"M13 11.25L12.25 11.25L12.25 12.75L13 12.75L13 12L13 11.25ZM14 12.75C14.4142 12.75 14.75 12.4142 14.75 12C14.75 11.5858 14.4142 11.25 14 11.25L14 12L14 12.75ZM13 12L13 12.75L14 12.75L14 12L14 11.25L13 11.25L13 12Z",fill:"currentColor"}),o=(0,l.jsx)("path",{d:"M2 11.25C1.58579 11.25 1.25 11.5858 1.25 12C1.25 12.4142 1.58579 12.75 2 12.75L2 12L2 11.25ZM7 12.75L7.75 12.75L7.75 11.25L7 11.25L7 12L7 12.75ZM2 12L2 12.75L7 12.75L7 12L7 11.25L2 11.25L2 12Z",fill:"currentColor"}),i=(0,l.jsx)("circle",{cx:"10",cy:"12",r:"2.25",stroke:"currentColor",strokeWidth:"1.5"}),s=(0,l.jsx)("path",{d:"M2 3.25C1.58579 3.25 1.25 3.58579 1.25 4C1.25 4.41421 1.58579 4.75 2 4.75L2 4L2 3.25ZM3 4.75L3.75 4.75L3.75 3.25L3 3.25L3 4L3 4.75ZM2 4L2 4.75L3 4.75L3 4L3 3.25L2 3.25L2 4Z",fill:"currentColor"}),c=(0,l.jsx)("path",{d:"M9 3.25L8.25 3.25L8.25 4.75L9 4.75L9 4L9 3.25ZM14 4.75C14.4142 4.75 14.75 4.41421 14.75 4C14.75 3.58579 14.4142 3.25 14 3.25L14 4L14 4.75ZM9 4L9 4.75L14 4.75L14 4L14 3.25L9 3.25L9 4Z",fill:"currentColor"}),d=(0,l.jsx)("circle",{cx:"6",cy:"4",r:"2.25",stroke:"currentColor",strokeWidth:"1.5"}),h[2]=r,h[3]=a,h[4]=o,h[5]=i,h[6]=s,h[7]=c,h[8]=d):(r=h[2],a=h[3],o=h[4],i=h[5],s=h[6],c=h[7],d=h[8]),h[9]!==p||h[10]!==g?(u=(0,l.jsxs)("svg",{className:p,xmlns:"http://www.w3.org/2000/svg",width:g,height:g,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",style:r,children:[a,o,i,s,c,d]}),h[9]=p,h[10]=g,h[11]=u):u=h[11],u},p=e=>{let t,r,a,o,i,s=(0,n.c)(8);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("rect",{x:"1.25",y:"3.25",width:"13.5",height:"9.5",rx:"1.75",stroke:"currentColor",strokeWidth:"1.5"}),o=(0,l.jsx)("path",{d:"M9.81055 7.75L11.1895 7.75L10.5 8.43945L9.81055 7.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),s[2]=r,s[3]=a,s[4]=o):(r=s[2],a=s[3],o=s[4]),s[5]!==d||s[6]!==u?(i=(0,l.jsxs)("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",style:r,children:[a,o]}),s[5]=d,s[6]=u,s[7]=i):i=s[7],i},g=e=>{let t,r,a,o,i,s=(0,n.c)(8);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("path",{d:"M15.2596 9.99995C15.4583 10.0025 15.6481 10.0834 15.787 10.2255C15.9258 10.3678 16.0022 10.5599 15.9999 10.7587C15.9974 10.9577 15.9166 11.1481 15.7743 11.2871L11.2167 15.7363C11.0753 15.8738 10.8855 15.9505 10.6883 15.9492C10.4909 15.9477 10.3013 15.8683 10.162 15.7285L8.21861 13.7783C8.08642 13.6359 8.01462 13.4472 8.01841 13.2529C8.02225 13.0587 8.10151 12.8734 8.23911 12.7363C8.37676 12.5992 8.56243 12.5206 8.75669 12.5175C8.95096 12.5145 9.1392 12.587 9.28111 12.7197L10.7001 14.1455L14.7264 10.2128C14.8688 10.074 15.0608 9.99751 15.2596 9.99995Z",fill:"currentColor"}),o=(0,l.jsx)("path",{d:"M11.75 1C12.9926 1 14 2.00736 14 3.25C14 4.22966 13.3739 5.06319 12.5 5.37207V6C12.5 7.38071 11.3807 8.5 10 8.5H6C5.44772 8.5 5 8.94772 5 9.5V10.6279C5.87389 10.9368 6.5 11.7703 6.5 12.75C6.5 13.9926 5.49264 15 4.25 15C3.00736 15 2 13.9926 2 12.75C2 11.7703 2.62611 10.9368 3.5 10.6279V5.37207C2.62611 5.06319 2 4.22966 2 3.25C2 2.00736 3.00736 1 4.25 1C5.49264 1 6.5 2.00736 6.5 3.25C6.5 4.22966 5.87389 5.06319 5 5.37207V7.20801C5.30623 7.07421 5.64445 7 6 7H10C10.5523 7 11 6.55228 11 6V5.37207C10.1261 5.06319 9.5 4.22966 9.5 3.25C9.5 2.00736 10.5074 1 11.75 1ZM4.25 12C3.83579 12 3.5 12.3358 3.5 12.75C3.5 13.1642 3.83579 13.5 4.25 13.5C4.66421 13.5 5 13.1642 5 12.75C5 12.3358 4.66421 12 4.25 12ZM4.25 2.5C3.83579 2.5 3.5 2.83579 3.5 3.25C3.5 3.66421 3.83579 4 4.25 4C4.66421 4 5 3.66421 5 3.25C5 2.83579 4.66421 2.5 4.25 2.5ZM11.75 2.5C11.3358 2.5 11 2.83579 11 3.25C11 3.66421 11.3358 4 11.75 4C12.1642 4 12.5 3.66421 12.5 3.25C12.5 2.83579 12.1642 2.5 11.75 2.5Z",fill:"currentColor"}),s[2]=r,s[3]=a,s[4]=o):(r=s[2],a=s[3],o=s[4]),s[5]!==d||s[6]!==u?(i=(0,l.jsxs)("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",style:r,children:[a,o]}),s[5]=d,s[6]=u,s[7]=i):i=s[7],i},C=e=>{let t,r,a,o,i,s=(0,n.c)(8);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:c,className:d}=t,u=void 0===c?16:c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={display:"inline-block",verticalAlign:"text-bottom"},a=(0,l.jsx)("path",{d:"M10.3359 0C10.7999 0 11.2452 0.183715 11.5732 0.512695L14.4873 3.42676C14.8163 3.75475 15 4.20008 15 4.66406V8.25098C15 8.66519 14.6642 9.00098 14.25 9.00098C13.8358 9.00098 13.5 8.66519 13.5 8.25098V6H10.75C10.2859 6 9.84088 5.81549 9.5127 5.4873C9.18451 5.15912 9 4.71413 9 4.25V1.5H3.75C3.6837 1.5 3.62013 1.52636 3.57324 1.57324C3.52636 1.62013 3.5 1.6837 3.5 1.75V14.25C3.5 14.388 3.612 14.5 3.75 14.5H7C7.41421 14.5 7.75 14.8358 7.75 15.25C7.75 15.6642 7.41421 16 7 16H3.75C3.28587 16 2.84088 15.8155 2.5127 15.4873C2.18451 15.1591 2 14.7141 2 14.25V1.75C2 0.784 2.784 0 3.75 0H10.3359ZM10.5 4.25C10.5 4.388 10.612 4.5 10.75 4.5H13.4385L13.4268 4.4873L10.5127 1.57324L10.5 1.56152V4.25Z",fill:"currentColor"}),o=(0,l.jsx)("path",{d:"M15.2588 10C15.4577 10.0024 15.6481 10.0833 15.7871 10.2256C15.926 10.3679 16.0023 10.56 16 10.7588C15.9976 10.9577 15.9167 11.1481 15.7744 11.2871L11.2168 15.7363C11.0754 15.874 10.8849 15.9507 10.6875 15.9492C10.4901 15.9476 10.3014 15.8675 10.1621 15.7275L8.21875 13.7783C8.08653 13.6359 8.01476 13.4472 8.01855 13.2529C8.02239 13.0587 8.10162 12.8734 8.23926 12.7363C8.37693 12.5992 8.56253 12.5206 8.75684 12.5176C8.95115 12.5145 9.13933 12.587 9.28125 12.7197L10.7002 14.1445L14.7256 10.2129C14.8679 10.074 15.06 9.99767 15.2588 10Z",fill:"currentColor"}),s[2]=r,s[3]=a,s[4]=o):(r=s[2],a=s[3],o=s[4]),s[5]!==d||s[6]!==u?(i=(0,l.jsxs)("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",style:r,children:[a,o]}),s[5]=d,s[6]=u,s[7]=i):i=s[7],i},y={compose:o,dice:i,loops:c,node:a,spaces:s,booleanOn:d,booleanOff:u,input:h,range:m,select:p,gitBranchCheck:g,fileCheck:C};try{a.displayName||(a.displayName="NodeIcon")}catch{}try{o.displayName||(o.displayName="ComposeIcon")}catch{}try{i.displayName||(i.displayName="DiceIcon")}catch{}try{s.displayName||(s.displayName="SpacesIcon")}catch{}try{c.displayName||(c.displayName="LoopsIcon")}catch{}try{d.displayName||(d.displayName="BooleanOnIcon")}catch{}try{u.displayName||(u.displayName="BooleanOffIcon")}catch{}try{h.displayName||(h.displayName="InputIcon")}catch{}try{m.displayName||(m.displayName="RangeIcon")}catch{}try{p.displayName||(p.displayName="SelectIcon")}catch{}try{g.displayName||(g.displayName="GitBranchCheckIcon")}catch{}try{C.displayName||(C.displayName="FileCheckIcon")}catch{}},51120:(e,t,r)=>{r.d(t,{I:()=>c,Y:()=>FetchCAPIError});var l=r(50467),n=r(34295),a=r(25641),o=r(21067),i=r(69599),s=r(65411);let FetchCAPIError=class FetchCAPIError extends Error{constructor(e,t){super(e),(0,l._)(this,"status",void 0),this.name="FetchCAPIError",this.status=t}};async function c({path:e,method:t="GET",streamingResponse:r=!1,body:l,retryOn401:a=!1}){let c=(0,i.G7)("mission_control_use_capi_token_provider")?new s.JR([]):new n.l;return d({path:e,method:t,streamingResponse:r,body:l,basePath:(0,o._$)().copilotApiOverrideUrl??"https://api.githubcopilot.com",retryOn401:a},c)}async function d(e,t,r=0){let l=await t.getAuthToken();if(!l)throw Error("No token available");let n=await (0,a.p)({authToken:l,basePath:e.basePath,method:e.method,path:e.path,streamingResponse:e.streamingResponse,body:e.body});if(!n.ok){if(e.retryOn401&&401===n.status&&r<1)return t.removeLocalStorageAuthToken(),d(e,t,r+1);let l="error"in n?n.error:`Failed CAPI request (${n.status})`;if("response"in n&&n.response)try{let e=await n.response.text();e&&e.trim()&&(l=e.trim())}catch{}throw new FetchCAPIError(l,n.status)}return n}},57019:(e,t,r)=>{r.d(t,{A:()=>o,_:()=>i});var l=r(88431),n=r(44569),a=r(96540);let o={ctrlKey:"ctrlKey",altKey:"altKey",shiftKey:"shiftKey",metaKey:"metaKey"},i=(e,t,r)=>{let i=(0,a.useRef)(t);(0,l.N)(()=>{i.current=t});let s=(0,a.useCallback)(t=>{(![...document.querySelectorAll('#__primerPortalRoot__, [id$="-portal-root"]')].some(function e(t){if(t.clientHeight>0)return!0;for(let r of t.children)if(e(r))return!0;return!1})||r?.triggerWhenPortalIsActive)&&(function(e,t){for(let r of Object.values(o))if(t&&t[r]&&!e[r]||e[r]&&(!t||!t[r]))return!1;return!0}(t,r)||r?.ignoreModifierKeys)&&!(!r?.triggerWhenInputElementHasFocus&&(0,n.fg)(t.target))&&e.some(e=>/^\d$/.test(e)?t.code===`Digit${e}`:"/"===e?"Slash"===t.code:t.key===e)&&i.current(t)},[e,r]);(0,a.useEffect)(()=>{let e=r?.scopeRef?.current||document;return e.addEventListener("keydown",s),()=>e.removeEventListener("keydown",s)},[s,r?.scopeRef])}},63422:(e,t,r)=>{r.d(t,{L:()=>i});var l=r(74848),n=r(21728),a=r(26108),o=r(34164);let i=(0,r(96540).forwardRef)((e,t)=>{let r,i,s,c,d,u,h=(0,n.c)(11);h[0]!==e?({selected:c,icon:r,selectedIcon:i,...s}=e,h[0]=e,h[1]=r,h[2]=i,h[3]=s,h[4]=c):(r=h[1],i=h[2],s=h[3],c=h[4]);let m=c&&i?i:r;return h[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,o.$)("IconButtonSelector-module__anchor--t8Bzw"),h[5]=d):d=h[5],h[6]!==m||h[7]!==t||h[8]!==s||h[9]!==c?(u=(0,l.jsx)(a.K,{...s,className:d,icon:m,"data-selected":c,ref:t}),h[6]=m,h[7]=t,h[8]=s,h[9]=c,h[10]=u):u=h[10],u});i.displayName="IconButtonSelector"},63685:(e,t,r)=>{r.d(t,{b:()=>b});var l=r(74848),n=r(21728),a=r(94236),o=r(21373),i=r(5524),s=r(73077),c=r(38621),d=r(49851),u=r(51120),h=r(42455),m=r(69599),p=r(96379),g=r(97286),C=r(77430),y=r(78223);function f(e){let t,r,a,o=(0,n.c)(14),{topLevelAgents:s,customAgents:c,selectedAgent:d,onSelectAgent:u,showTopLevelAgents:h}=e;return o[0]!==u||o[1]!==d||o[2]!==h||o[3]!==s?(t=h&&s.length>0&&(0,l.jsxs)(i.l.Group,{selectionVariant:"single",children:[(0,l.jsx)(i.l.GroupHeading,{children:"Agents"}),s.map(e=>{let t=(0,y.sS)(e.slug),r=d?.typeName==="topLevel"&&d.topLevelAgentId===e.id,n=!d?.typeName&&t,a=r||n;return(0,l.jsxs)(i.l.Item,{disabled:!1,selected:a,onSelect:()=>u(a?{}:{typeName:"topLevel",topLevelAgentId:e.id}),children:[(0,l.jsx)(i.l.LeadingVisual,{children:(0,l.jsx)(C.r,{src:e.avatar_url||"",size:16,square:!0})}),e.display_name]},e.id)})]}),o[0]=u,o[1]=d,o[2]=h,o[3]=s,o[4]=t):t=o[4],o[5]!==c||o[6]!==u||o[7]!==d||o[8]!==h||o[9]!==s?(r=c.length>0&&(0,l.jsxs)(l.Fragment,{children:[h&&s.length>0&&(0,l.jsx)(i.l.Divider,{}),(0,l.jsxs)(i.l.Group,{selectionVariant:"single",children:[(0,l.jsx)(i.l.GroupHeading,{children:"Custom agents"}),c.map(e=>{let t=!!e.config_error&&e.config_error.length>0,r=d.subAgentSlug===e.name;return(0,l.jsx)(i.l.Item,{disabled:t,inactiveText:t?e.config_error:void 0,selected:r,onSelect:()=>u(r?{}:{typeName:"customSubAgent",subAgentSlug:e.name}),children:e.display_name||e.name},e.name)})]})]}),o[5]=c,o[6]=u,o[7]=d,o[8]=h,o[9]=s,o[10]=r):r=o[10],o[11]!==t||o[12]!==r?(a=(0,l.jsxs)(l.Fragment,{children:[t,r]}),o[11]=t,o[12]=r,o[13]=a):a=o[13],a}try{f.displayName||(f.displayName="AgentListItems")}catch{}var v=r(82156),x=r(63422);function b(e){let t,r,s,b,_,j,S,k,N,I=(0,n.c)(13),{repo:A,branch:M,selectedAgent:P,onSelectAgent:R,iconOnly:B,disabled:O}=e,$=void 0!==O&&O;I[0]!==A?(t={repo:A},I[0]=A,I[1]=t):t=I[1];let{data:H,isLoading:E}=function(e){let t,r,l=(0,n.c)(4),{repo:a}=e;l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.G7)("agent_session_retry_fetch_capi_on_401"),l[0]=t):t=l[0];let o=t;return l[1]!==a.nameOnly||l[2]!==a.owner?(r={queryKey:["custom-agents",a.owner,a.nameOnly],queryFn:async()=>{try{let e=await (0,u.I)({path:`/agents/swe/custom-agents/${a.owner}/${a.nameOnly}`,retryOn401:o});if(404===e.status)return[];return(await e.json()).agents}catch{return[]}}},l[1]=a.nameOnly,l[2]=a.owner,l[3]=r):r=l[3],(0,h.b)(r)}(t),Z=void 0===H?[]:H;I[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.G7)("copilot_3p_agent_info"),I[2]=r):r=I[2];let V=r,{data:T,isLoading:W}=function(e,t=!0){return(0,g.I)({enabled:!!e&&t,queryKey:["top-level-agents",e],queryFn:async()=>{try{if(!e)return[];let t=await (0,p.lS)(`/copilot/agent-sessions/${e}/agents`);if(!t.ok)return[];return(await t.json()).agents||[]}catch{return[]}}})}(A.nameWithOwner,V),z=void 0===T?[]:T,G=w,F=V&&G(P)?"Copilot":P,q=A.isEmpty||!M||E||W,D=[...z,...Z],K="string"==typeof F?"Copilot"===F?"topLevel":"customSubAgent":F.typeName,U=D.find(e=>"string"==typeof F?e.display_name===F:"topLevel"===K?"id"in e&&e.id===F.topLevelAgentId:"customSubAgent"===K?"name"in e&&e.name===F.subAgentSlug:void 0);e:{if("string"==typeof F){s=F;break e}if(!U){s=void 0;break e}s=U.display_name||("name"in U?U.name:void 0)}let Q=s;if(I[3]!==M||I[4]!==A.nameOnly||I[5]!==A.owner){let e=new URLSearchParams({filename:".github/agents/my-agent.agent.md",value:`---
# Fill in the fields below to create a basic custom agent for your repository.
# The Copilot CLI can be used for local testing: https://gh.io/customagents/cli
# To make this agent available, merge this file into the default repository branch.
# For format details, see: https://gh.io/customagents/config

name:
description:
---

# My Agent

Describe what your agent does here...`});j=A.owner,S=A.nameOnly,b=M,_=e.toString(),I[3]=M,I[4]=A.nameOnly,I[5]=A.owner,I[6]=b,I[7]=_,I[8]=j,I[9]=S}else b=I[6],_=I[7],j=I[8],S=I[9];let J=`/${j}/${S}/new/${b}?${_}`;t:{if(G(P)){k=!0;break t}if("topLevel"===P.typeName&&U&&"slug"in U){k=(0,y.sS)(U.slug);break t}k=!1}let Y=k,X=Q?`${"topLevel"===K?"Agent":"Custom agent"}: ${Q}`:"Select an agent",ee=a.W,et=void 0===B||B?function({isLoading:e,isCopilotSelected:t,selectedAgentObj:r,agentType:n,ariaLabel:a,disabled:i}){return e?(0,l.jsx)(o.Q,{"aria-label":"Loading agents",disabled:!0,className:"AgentSelector-module__avatarButtonSkeleton--jkY1N",children:(0,l.jsx)(v.f,{width:"32px",height:"32px","data-testid":"agent-selector-skeleton"})}):t?(0,l.jsx)(x.L,{icon:c.CopilotIcon,selectedIcon:c.CopilotIcon,"aria-label":a,selected:!1,disabled:i}):r&&"object"==typeof r&&"customSubAgent"===n?(0,l.jsx)(x.L,{icon:c.CopilotIcon,selectedIcon:d.c9,"aria-label":a,selected:!!r,disabled:i}):r&&"object"==typeof r&&"avatar_url"in r?(0,l.jsx)(o.Q,{"aria-label":a,disabled:i||e,className:"AgentSelector-module__avatarButton--vp2Ab",children:(0,l.jsx)(C.r,{src:r.avatar_url,size:18,square:!0})}):(0,l.jsx)(x.L,{icon:c.CopilotIcon,selectedIcon:d.c9,"aria-label":a,selected:!!r,disabled:i})}({isLoading:q,isCopilotSelected:Y,selectedAgentObj:U,agentType:K,ariaLabel:X,disabled:$}):(0,l.jsx)(o.Q,{leadingVisual:Q?d.c9:c.CopilotIcon,trailingAction:c.TriangleDownIcon,"aria-label":X,className:"AgentSelector-module__anchor--SnbmM","data-selected":!!U,disabled:$||q,children:Q||"None"});return I[10]!==ee.Anchor||I[11]!==et?(N=(0,l.jsx)(ee.Anchor,{children:et}),I[10]=ee.Anchor,I[11]=et,I[12]=N):N=I[12],(0,l.jsxs)(a.W,{children:[N,(0,l.jsx)(a.W.Overlay,{width:"auto",children:0===D.length?(0,l.jsx)(L,{newFileUrl:J}):(0,l.jsxs)(i.l,{children:[(0,l.jsx)(f,{topLevelAgents:z,customAgents:Z,selectedAgent:P,onSelectAgent:R,showTopLevelAgents:V}),(0,l.jsx)(i.l.Divider,{}),(0,l.jsx)(i.l.Group,{selectionVariant:!1,children:(0,l.jsxs)(i.l.LinkItem,{href:J,target:"_blank",children:[(0,l.jsx)(i.l.LeadingVisual,{children:(0,l.jsx)(c.PlusIcon,{})}),"Create a custom agent"]})})]})})]})}function w(e){return!e?.typeName}let L=e=>{let t,r,a,o=(0,n.c)(4),{newFileUrl:i}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("h3",{className:"AgentSelector-module__emptyStateTitle--coj6M",children:"This repository has no custom agents"}),r=(0,l.jsx)("p",{className:"AgentSelector-module__emptyStateDescription--C58Xx",children:"Custom agents are reusable instructions and tools in your repository."}),o[0]=t,o[1]=r):(t=o[0],r=o[1]),o[2]!==i?(a=(0,l.jsxs)("div",{className:"AgentSelector-module__emptyStateContainer--FrxRO",children:[t,r,(0,l.jsx)(s.z,{href:i,children:"Create a custom agent"})]}),o[2]=i,o[3]=a):a=o[3],a};try{b.displayName||(b.displayName="AgentSelector")}catch{}try{L.displayName||(L.displayName="EmptyState")}catch{}},67126:(e,t,r)=>{r.d(t,{S:()=>l});let l={couldNotUpdateAssignees:"Could not update assignees",couldNotSearchAssignees:"Could not search assignees",couldNotUpdateLabels:"Could not update labels",couldNotSearchLabels:"Could not search labels",couldNotUpdateMilestone:"Could not update milestone",couldNotUpdateType:"Could not update type",couldNotSearchMilestones:"Could not search milestones",couldNotUpdateIssueType:"Could not update issue type",couldNotSearchRepositories:"Could not search repositories",couldNotSearchPullRequests:"Could not search pull requests",couldNotSearchProjects:"Could not search projects",couldNotSearchBranches:"Could not search branches",noMatches:"No matches",noResults:"No results",couldNotCreateBranch:"Could not create branch",couldNotCreateLabel:"Could not create label",couldNotCreateMilestone:"Could not create milestone",branchAlreadyExists:e=>`The branch ${e} already exists.`}},74563:(e,t,r)=>{r.d(t,{B:()=>l});let l={itemPickerRootId:"item-picker-root-id",itemPickerTestId:"item-picker-root"}},76027:(e,t,r)=>{r.d(t,{Z:()=>l});let l={activePickerOption:e=>`[data-id="${e}"] [data-is-active-descendant="activated-directly"]`}},78223:(e,t,r)=>{function l(e){return"copilot-swe-agent"===e}function n(e,t){return!e.topLevelAgentId||l(t)||!!e.subAgentSlug}r.d(t,{CF:()=>n,sS:()=>l})},86391:(e,t,r)=>{r.d(t,{D:()=>y,O:()=>C});var l=r(74848),n=r(69599),a=r(53419),o=r(3334),i=r(57019),s=r(93330),c=r(5839),d=r(50279),u=r(96540),h=r(74563),m=r(76027),p=r(34267),g=r(89850);function C({items:e,initialSelectedItems:t,placeholderText:r,selectionVariant:C="single",loading:f,groups:v,filterItems:x,renderAnchor:b,getItemKey:w,convertToItemProps:L,onSelectionChange:_,onOpen:j,onClose:S,onLiveSelectionChange:k,eventsTag:N,height:I="small",width:A="small",selectPanelRef:M,enforceAtleastOneSelected:P,insidePortal:R,maxVisibleItems:B=9,nested:O=!1,resultListAriaLabel:$,title:H,subtitle:E,preventClose:Z,triggerOpen:V,initialFilter:T,customNoResultsItem:W,customNoMatchItem:z,footer:G,keybindingCommandId:F,pickerId:q,responsiveOnNarrow:D,secondaryAction:K,notice:U,className:Q,improvedNoMatchAccessibility:J,noMatchMessage:Y,suppressNoMatchItem:X}){let[ee,et]=(0,u.useState)(V??!1),[er,el]=(0,u.useState)(()=>ee?Date.now():null),[en,ea]=(0,u.useState)([]),[eo,ei]=(0,u.useState)(T??""),{updateOpenState:es,anyItemPickerOpen:ec}=(0,p.t)(),[ed,eu]=(0,u.useState)(!1),eh=(0,u.useId)();q&&(eh=q);let em=D||(0,n.G7)("primer_react_select_panel_fullscreen_on_narrow");(0,s.w)(()=>{eu(window.innerWidth<768)});let ep=(0,u.useCallback)(e=>{et(e),e?el(Date.now()):el(null)},[et]);(0,u.useEffect)(()=>{void 0!==V&&ep(V)},[ep,V]);let eg=(0,u.useCallback)(()=>{ec()||ee||(ep(!0),j&&j())},[ec,ee,ep,j]);(0,u.useEffect)(()=>{es(eh,ee)},[eh,ee,es]);let eC=(0,u.useMemo)(()=>new Map,[eh,t]),ey=(0,u.useCallback)(e=>{for(let[,t]of eC)t!==e&&(t.selected=!1)},[eC]),ef=(0,u.useCallback)(e=>"string"==typeof e?e:w(e),[w]),ev=(0,u.useCallback)((e,r)=>{if(Z&&!e||"cancel"===r)return;if(!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),ep(e),e&&j)return void j();ei(""),S&&S();let l=[...eC.values()].filter(e=>e.selected).map(e=>e.source);if(l.length!==t.length||l.some(e=>!t.some(t=>ef(t)===w(e)))){if(er&&N){let e=Date.now()-er,r=l.filter(e=>!t.some(t=>ef(t)===w(e))).length,n=t.filter(e=>!l.some(t=>ef(t)===w(e))).length;(0,a.BI)(`item-picker-${N}-selection-duration`,{selectionDuration:e,totalItemsCount:l.length,addedItemsCount:r,removedItemsCount:n})}_(l)}},[Z,ep,j,S,eC,t,ef,w,er,N,_]),ex=(0,u.useCallback)((e,t)=>{let r=w(e),l=eC.get(r),n=L(e);if(l)return{...l,disabled:n.disabled};(l=n).selected=t;let a=l.onAction;return l.onAction=(t,l)=>{let n=eC.get(r);n&&(n.selected=!n.selected,"single"===C&&e.id!==eo&&ey(n),a&&a(t,l))},eC.set(r,l),l},[L,eo,w,eC,C,ey]),eb=(0,u.useMemo)(()=>{let r=e.map(e=>e.__isNew__?(delete e.__isNew__,z&&eC.delete(w(z)),ex(e,!0)):ex(e,t.some(t=>ef(t)===w(e))));return 0===r.length?J?[]:z?[ex(z,!1)]:X?[]:eo?[z?ex(z,!1):g.Q3]:[W??g.v8]:r},[z,e,eC,ex,t,ef,w,eo,W,J,X]);(0,u.useEffect)(()=>{ea(eb.filter(e=>e.selected))},[eb]);let ew=(0,u.useMemo)(()=>"single"===C?en[0]:en,[en,C]),eL=(0,u.useCallback)(e=>{if(void 0===e){P||ea([]);return}let t=(Array.isArray(e)?e:[e]).map(e=>eb.find(t=>e.id===t.id)).filter(e=>void 0!==e);ea(t),k&&k(t.map(e=>e.source))},[P,eb,k]);(0,i._)([" "],e=>{if(ee){let t=document.querySelector(m.Z.activePickerOption(h.B.itemPickerRootId));if(t){let r=t.getAttribute("data-id"),l=[...eC.values()].find(e=>e.id===r);if(l){if(L(l.source).disabled)return;e.preventDefault(),e.stopPropagation(),l.selected=!l.selected,ea([...eC.values()].filter(e=>e.selected)),k&&k([...eC.values()].filter(e=>e.selected).map(e=>e.source))}}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let e_=(0,u.useCallback)(()=>{if(Z)return;ei("");let e=[...eC.values()].filter(e=>e.selected).map(e=>e.source);if(e.length!==t.length||e.some(e=>!t.some(t=>ef(t)===w(e)))){for(let e of eC.values())t.some(t=>ef(t)===w(e.source))?e.selected=!0:e.selected=!1;ea([...eC.values()].filter(e=>e.selected))}ep(!1),S&&S()},[Z,eC,t,ep,S,ef,w]);(0,u.useEffect)(()=>{x(eo)},[eo,x]);let ej=eb.length>0;1===eb.length&&(eb[0].id===g.Q3.id||eb[0].id===g.v8.id)&&(ej=!1);let eS=(0,u.useMemo)(()=>v&&v?.length>1&&ej?{groupMetadata:v}:{},[v,ej]),ek=y(R,M,eb.length<=B?"auto":I,ed&&em),eN=(0,u.useMemo)(()=>Y||(eo?{variant:"empty",title:"No matches found",body:"Try a different search term"}:{variant:"empty",title:"No items to show",body:""}),[Y,eo]),eI=(0,u.useMemo)(()=>({renderAnchor:b,placeholderText:r,open:ee,onOpenChange:ev,loading:f,items:eb,selected:ew,onSelectedChange:eL,filterValue:eo,onFilterChange:ei,showItemDividers:!0,overlayProps:{width:A,className:Q,...ek},...eS,"aria-label":$,"data-id":h.B.itemPickerRootId,"data-testid":h.B.itemPickerTestId,title:H,subtitle:E,footer:G,onCancel:e_,secondaryAction:K,notice:U,message:J&&0===eb.length?eN:void 0}),[b,r,ee,ev,f,eb,ew,eL,eo,A,ek,eS,$,H,E,G,eN,e_,K,U,Q,J]);return(0,l.jsxs)(d.g,{flags:{primer_react_select_panel_fullscreen_on_narrow:void 0===G&&em},children:[F&&(0,l.jsx)(o.ak,{commands:{[F]:eg}}),(0,l.jsx)(c.X,{anchorRef:O?void 0:M,...eI})]})}function y(e,t,r,l=!1){let n=e?"large":r;if(!e||!t?.current)return{height:n};let{top:a}=t.current.getBoundingClientRect(),o=l?0:a-436;return o<0?{height:n}:{height:n,top:o,position:"fixed"}}try{C.displayName||(C.displayName="ItemPicker")}catch{}},89850:(e,t,r)=>{r.d(t,{A2:()=>i,Q3:()=>a,v8:()=>o});var l=r(38621),n=r(67126);let a={leadingVisual:l.CircleSlashIcon,text:n.S.noMatches,disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"},o={leadingVisual:l.CircleSlashIcon,text:n.S.noResults,disabled:!0,selected:void 0,key:"no-results",id:"no-results"},i=(e="",t="",r="")=>{let l=e&&`owner:${e.trim()} `,n=r&&`repo:${r.trim()} `,a=t&&`${t.trim()}`,o=(e=>{try{new URL(e)}catch{return!1}return new RegExp(/^.+\/issues\/\d+$/).test(e)})(t),i="in:title",s=a&&"#"===a.charAt(0)?a.slice(1):a;s&&!isNaN(Number(s))&&(i+=" in:number");let c=`${l}${n}is:issue ${i}`;return{commenters:`${c} commenter:@me ${a}`.trim(),mentions:`${c} mentions:@me ${a}`.trim(),assignee:`${c} assignee:@me ${a}`.trim(),author:`${c} author:@me ${a}`.trim(),other:`${c} ${a}`.trim(),resource:o?encodeURI(t):"",queryIsUrl:o}}},92352:(e,t,r)=>{r.d(t,{s:()=>f,P:()=>x});var l=r(74848),n=r(21728),a=r(63685),o=r(97189),i=r(69599),s=r(49851),c=r(66990),d=r(46642),u=r(96379),h=r(38621),m=r(82156),p=r(26108),g=r(96540),C=r(79064),y=r(63422);let f=e=>{let t,r,u,f,w,L,_,j=(0,n.c)(30),{hideRepoSelector:S,initialRepoNWO:k,initialBranch:N,selectedRepo:I,selectedBranch:A,selectedAgent:M,onRepoSelect:P,onBranchSelect:R,onAgentSelect:B,agentSelectionEnabled:O}=e,$=void 0===O||O,H=(0,g.useRef)(!1);j[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.G7)("swe_agent_member_requests_agent_panel"),j[0]=t):t=j[0];let E=t;j[1]!==N||j[2]!==k||j[3]!==R||j[4]!==P||j[5]!==I?(r=e=>{let t;if(!I&&!H.current){if(k&&(t=e.find(e=>e.nameWithOwner===k))&&(t.enabled||E&&v(t))){P(t),R(N||t.defaultBranch),H.current=!0;return}let r=C.Jt.getLastUsedRepository();if(r){let t=e.find(e=>e.nameWithOwner===`${r.ownerLogin}/${r.name}`);if(t&&(t.enabled||E&&v(t))){P(t),R(t?.defaultBranch),H.current=!0;return}}let l=e.find(b);l?(P(l),R(l.defaultBranch),H.current=!0):t&&(P(t),R(N||t.defaultBranch),H.current=!0)}},j[1]=N,j[2]=k,j[3]=R,j[4]=P,j[5]=I,j[6]=r):r=j[6];let Z=r;j[7]!==k?(u=(e,t)=>x(e,t,k),j[7]=k,j[8]=u):u=j[8];let V=u;return j[9]!==S||j[10]!==R||j[11]!==Z||j[12]!==P||j[13]!==V||j[14]!==I?(f=!S&&(0,l.jsx)(d.P,{repositoryLoader:V,selectionVariant:"single",selectAllOption:!1,onSelect:e=>{e&&(P(e),R(e.defaultBranch))},currentSelection:I,width:"medium",additionalButtonProps:{"aria-label":`Repository: ${I?.nameWithOwner||"Select repository"}`,className:"RepoBranchAgentSelector-module__repoSelectorButton--tAnOR"},onLoad:Z,loadingElement:(0,l.jsx)(m.f,{width:"150px",height:"32px"})}),j[9]=S,j[10]=R,j[11]=Z,j[12]=P,j[13]=V,j[14]=I,j[15]=f):f=j[15],j[16]!==R||j[17]!==A||j[18]!==I?(w=(0,l.jsx)(l.Fragment,{children:I?(0,l.jsx)(c.PI,{cacheKey:"repo-branch-agent-selector",canCreate:!1,currentCommitish:A??I.defaultBranch,defaultBranch:I.defaultBranch,owner:I.owner,repo:I.nameOnly,types:["branch"],selectedRefType:"branch",closeOnSelect:!0,hideShowAll:!0,actionListHeadingText:"Select a branch",onSelectItem:R,renderAnchor:e=>(0,l.jsx)(y.L,{...e,icon:h.GitBranchIcon,selectedIcon:s.gh,selected:A!==I.defaultBranch,"aria-label":`Branch: ${A||"Select branch"}`,"aria-labelledby":void 0})}):(0,l.jsx)(p.K,{icon:h.GitBranchIcon,"aria-label":"Loading branches\u2026",disabled:!0})}),j[16]=R,j[17]=A,j[18]=I,j[19]=w):w=j[19],j[20]!==$||j[21]!==B||j[22]!==M||j[23]!==A||j[24]!==I?(L=$&&(I?(0,l.jsx)(a.b,{repo:I,branch:A||I.defaultBranch,selectedAgent:M,onSelectAgent:e=>B(e),iconOnly:!0}):(0,l.jsx)(m.f,{width:"32px",height:"32px"})),j[20]=$,j[21]=B,j[22]=M,j[23]=A,j[24]=I,j[25]=L):L=j[25],j[26]!==f||j[27]!==w||j[28]!==L?(_=(0,l.jsx)(o.Fn,{children:(0,l.jsxs)("div",{className:"RepoBranchAgentSelector-module__container--gHrlH",children:[f,w,L]})}),j[26]=f,j[27]=w,j[28]=L,j[29]=_):_=j[29],_};function v(e){return!!(e.userCanRequestCca||e.userCanGrantOrgCca||e.userCanGrantEnterpriseCca||e.userHasRequestedCca)}async function x(e="",t,r){let l=new URL("/copilot/agent-sessions/repositories",window.location.origin);e.trim()&&l.searchParams.set("q",e.trim()),t&&l.searchParams.set("defaultOwner",t),r&&l.searchParams.set("includeInTopRepos",r);let n=await (0,u.lS)(l.href);if(n.ok){let{repositories:e}=await n.json();return e.map(e=>({id:e.id,graphQLId:e.graphQLId,nameWithOwner:e.nameWithOwner,enabled:e.enabled,name:e.nameWithOwner,nameOnly:e.name,owner:e.owner,defaultBranch:e.defaultBranch,private:"public"!==e.visibility,isEmpty:e.isEmpty,userHasRequestedCca:e.userHasRequestedCca,userCanRequestCca:e.userCanRequestCca,userCanGrantOrgCca:e.userCanGrantOrgCca,userCanGrantEnterpriseCca:e.userCanGrantEnterpriseCca,businessSlug:e.businessSlug}))}return[]}try{f.displayName||(f.displayName="RepoBranchAgentPicker")}catch{}function b(e){return e.enabled}},97189:(e,t,r)=>{r.d(t,{Fn:()=>s,eS:()=>i});var l=r(74848),n=r(21728),a=r(96540);let o=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(o);if(!e)throw Error("useConsecutiveCAPI401sContext must be used within a ConsecutiveCAPI401sProvider");return e}function s(e){let t,r,i,s,d=(0,n.c)(7),{children:u}=e,[h,m]=(0,a.useState)(0);d[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>m(c),r=()=>m(0),d[0]=t,d[1]=r):(t=d[0],r=d[1]),d[2]!==h?(i={numberOf401s:h,increment401s:t,reset401s:r},d[2]=h,d[3]=i):i=d[3];let p=i;return d[4]!==u||d[5]!==p?(s=(0,l.jsx)(o.Provider,{value:p,children:u}),d[4]=u,d[5]=p,d[6]=s):s=d[6],s}function c(e){return e+1}try{o.displayName||(o.displayName="ConsecutiveCAPI401sContext")}catch{}try{s.displayName||(s.displayName="ConsecutiveCAPI401sProvider")}catch{}}}]);
//# sourceMappingURL=92352-28643007d4a3.js.map